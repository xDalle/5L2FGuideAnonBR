<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Jogo dos Direitos</title>
    <link rel="stylesheet" href="assets/css/styles.css">
	<link rel="shortcut icon" href="assets/img/favicon.ico" />
</head>
<body>
    <header>
        <a href="index.html" class="nav-logo"> <img src="assets/img/small_logo.png" alt="Logo" class="logo"> </a>
        <nav class="navbar">
			<a href="index.html">Introdução</a>
			<a href="scope.html">Escopo</a>
			<a href="definitions.html">Definições</a>
			<a href="principles.html">Princípios</a>
			<a href="rights.html">Direitos</a>
            <a href="challenges.html">Desafios</a>
			<a href="about.html">Sobre</a>
			<a class="link" href="https://xdalle.github.io/5L2FGuide/rights.html">EN</a>
		</nav>
    </header>

    <main>
		<div class="centered-container">
			<h2 class="select-info" id="select-info">Selecione quais <strong>Direitos</strong> sua organização precisa cumprir.</h2>
			<h2 class="select-info" id="selected-info" style="display:none;">Você selecionou os seguintes <strong>Direitos</strong> para conformidade:</h2>

			<div class="circle-container" id="circle-container">
                <div class="circle"></div>
                <div class="circle"></div>
                <div class="circle"></div>
                <div class="circle"></div>
                <div class="circle"></div>
                <div class="circle"></div>
                <div class="circle"></div>
                <div class="circle"></div>
                <div class="circle"></div>
                <div class="circle"></div>
				<div class="circle"></div>
				<div class="circle"></div>
				<div class="circle"></div>
				<div class="circle"></div>
				<div class="circle"></div>
            </div>

			<button class="assert-button" id="assert-button">Verificar</button>
			<button class="play-again-button" id="play-again-button">Jogar Novamente</button>
		</div>
        <div id="cards-container">
        </div>
		<div id="results" class="results-container"></div>

    </main>

    <footer class="footer">
        <p>
            <a href="http://creativecommons.org/licenses/by/4.0/" rel="license"><img style="border-width: 0;" src="https://i.creativecommons.org/l/by/4.0/80x15.png" alt="Creative Commons License" /></a>
            <br /><br />
            A menos que indicado de outra forma, o conteúdo está licenciado sob
            <a href="http://creativecommons.org/licenses/by/4.0/" rel="license">Creative Commons Attribution 4.0 &#8211; Internacional</a>.
            Os autores são responsáveis pela escolha e apresentação de seus textos neste site e pelas opiniões expressas.
            <a class="link" href="https://github.com/xDalle/5L2FGuide-PT-BR-">Fonte</a>.
        </p>
    </footer>

    <script>
		const assertButton = document.getElementById('assert-button');
		const selectInfo = document.getElementById('select-info');

		const circleContainer = document.getElementById('circle-container');
		const circles = circleContainer.getElementsByClassName('circle');

		assertButton.classList.add('disabled');
		assertButton.disabled = true;

		const principles = [
			"#1 Coleta minimizada",
			"#2 Confirmação da existência do tratamento",
			"#3 Acesso aos dados",
			"#4 Correção dos dados",
			"#5 Anonimização",
			"#6 Portabilidade dos dados",
			"#7 Eliminação dos dados",
			"#8 Informação das entidades participantes",
			"#9 Informação da possibilidade de não consentir",
			"#10 Revogação do consentimento",
			"#11 Contestação",
			"#12 Processamento consistente com finalidade",
			"#13 Retenção consistente com finalidade",
			"#14 Oposição à tomada de decisões automatizadas",
			"#15 Restrição do processamento",
		];

		const subtitles = [
			"\"apenas os dados pessoais necessários para fins específicos devem ser coletados, garantindo que nenhum dado excessivo seja reunido.\"",
			"\"os indivíduos têm o direito de saber se seus dados pessoais estão sendo processados.\"",
			"\"os indivíduos podem solicitar acesso aos seus dados pessoais mantidos pelas organizações.\"",
			"\"os indivíduos têm o direito de solicitar correções para dados pessoais imprecisos ou incompletos.\"",
			"\"os dados podem ser anonimizados, garantindo que não possam ser rastreados até um indivíduo.\"",
			"\"os indivíduos podem solicitar seus dados em um formato estruturado para transferi-los para outro serviço.\"",
			"\"os indivíduos podem solicitar a exclusão de seus dados pessoais, especialmente quando não são mais necessários.\"",
			"\"os indivíduos devem ser informados sobre outras entidades envolvidas no processamento de seus dados.\"",
			"\"os indivíduos devem ser informados de que podem reter ou retirar o consentimento sem consequências negativas.\"",
			"\"os indivíduos podem revogar o consentimento dado anteriormente para o processamento de dados a qualquer momento.\"",
			"\"os indivíduos têm o direito de contestar ou desafiar quaisquer decisões relacionadas ao processamento de seus dados pessoais.\"",
			"\"os dados devem ser processados apenas de maneiras que estejam alinhadas com a finalidade original para a qual foram coletados.\"",
			"\"os dados pessoais devem ser mantidos apenas pelo tempo necessário para cumprir sua finalidade pretendida.\"",
			"\"os indivíduos podem se opor a decisões tomadas puramente com base em processos automatizados, especialmente quando isso os afeta significativamente.\"",
			"\"os indivíduos podem solicitar restrições ao processamento de seus dados em certas circunstâncias.\""
		];

		const infos = [
			"• Equivalente à GDPR: <span>&#9989</span> Minimização de Dados (é um Princípio!)<br><br>• Equivalente à ADPPA: <span>&#9989</span> Minimização de Dados<br><br>• Equivalente à Lei de Privacidade Australiana: <span>&#9989</span> Coleta de informações pessoais solicitadas (é um Princípio!)<br><br>• Equivalente à CCPA: <span>&#9989</span> Direito de Limitar o Uso e a Divulgaçãode Informações Pessoais Sensíveis (apenas a pedido do titular dos dados)",
			"• Equivalente à GDPR: <span>&#9989</span> Direito de acesso pelo titular dos dados<br><br>• Equivalente à ADPPA: <span>&#10060</span><br><br>• Equivalente à Lei de Privacidade Australiana: <span>&#9989</span> Acesso às informações pessoais (é um Princípio!)<br><br>• Equivalente à CCPA: <span>&#9989</span> Direito de Saber Quais Informações Pessoais Estão Sendo Coletadas. Direito de Acesso às Informações Pessoais",
			"• Equivalente à GDPR: <span>&#9989</span> Direito de acesso pelo titular dos dados<br><br>• Equivalente à ADPPA: <span>&#9989</span> Direito de Acesso<br><br>• Equivalente à Lei de Privacidade Australiana: <span>&#9989</span> Direito de Acesso<br><br>• Equivalente à CCPA: <span>&#9989</span> Direito de Saber Quais Informações Pessoais Estão Sendo Coletadas. Direito de Acesso às Informações Pessoais",
			"• Equivalente à GDPR: <span>&#9989</span> Direito à retificação<br><br>• Equivalente à ADPPA: <span>&#9989</span> Direito de Corrigir<br><br>• Equivalente à Lei de Privacidade Australiana: <span>&#9989</span> Direito de Corrigir<br><br>• Equivalente à CCPA: <span>&#9989</span> Direito de Corrigir Informações Pessoais Imprecisas",
			"• Equivalente à GDPR: <span>&#9989</span> Pseudonimização<br><br>• Equivalente à ADPPA: <span>&#10060</span><br><br>• Equivalente à Lei de Privacidade Australiana: <span>&#9989</span> Anonimato e pseudonimato (é um Princípio!)<br><br>• Equivalente à CCPA: <span>&#10060</span>",
			"• Equivalente à GDPR: <span>&#9989</span> Direito à portabilidade de dados<br><br>• Equivalente à ADPPA: <span>&#9989</span> Direito à Portabilidade<br><br>• Equivalente à Lei de Privacidade Australiana: <span>&#10060</span><br><br>• Equivalente à CCPA: <span>&#9989</span> Direito de Saber Quais Informações Pessoais Estão Sendo Coletadas. Direito de Acesso às Informações Pessoais",
			"• Equivalente à GDPR: <span>&#9989</span> Direito à exclusão<br><br>• Equivalente à ADPPA: <span>&#9989</span> Direito de Excluir<br><br>• Equivalente à Lei de Privacidade Australiana: <span>&#10060</span><br><br>• Equivalente à CCPA: <span>&#9989</span> Direito de Excluir Informações Pessoais",
			"• Equivalente à GDPR: <span>&#9989</span> Informação a ser fornecida onde os dados pessoais forem coletados do titular dos dados<br><br>• Equivalente à ADPPA: <span>&#9989</span> Direito à Transparência<br><br>• Equivalente à Lei de Privacidade Australiana: <span>&#9989</span> Gestão aberta e transparente de informações pessoais (é um Princípio!)<br><br>• Equivalente à CCPA: <span>&#9989</span> Direito de Saber Quais Informações Pessoais Estão Sendo Vendidas ou Compartilhadas e Para Quem",
			"• Equivalente à GDPR: <span>&#9989</span> Direito de revogação<br><br>• Equivalente à ADPPA: <span>&#9989</span> Direito à Transparência (no caso de mudanças nos termos do consentimento apenas)<br><br>• Equivalente à Lei de Privacidade Australiana: <span>&#10060</span><br><br>• Equivalente à CCPA: <span>&#9989</span> Direito de Optar por Não Vender ou Compartilhar Informações Pessoais",
			"• Equivalente à GDPR: <span>&#9989</span> Direito de revogação<br><br>• Equivalente à ADPPA: <span>&#9989</span> Direito de Consentir e Opor<br><br>• Equivalente à Lei de Privacidade Australiana: <span>&#9989</span> Coleta de informações pessoais solicitadas / Uso ou divulgação de informações pessoais (é um Princípio!)<br><br>• Equivalente à CCPA: <span>&#9989</span> Direito de Optar por Não Vender ou Compartilhar Informações Pessoais",
			"• Equivalente à GDPR: <span>&#9989</span> Direito de contestar / Direito de apresentar uma reclamação a uma autoridade supervisora<br><br>• Equivalente à ADPPA: <span>&#9989</span> Direito de Consentir e Opor<br><br>• Equivalente à Lei de Privacidade Australiana: <span>&#10060</span><br><br>• Equivalente à CCPA: <span>&#9989</span> Direito de Optar por Não Vender ou Compartilhar Informações Pessoais",
			"• Equivalente à GDPR: <span>&#9989</span> Limitação de armazenamento (é um Princípio!)<br><br>• Equivalente à ADPPA: <span>&#9989</span> Minimização de Dados<br><br>• Equivalente à Lei de Privacidade Australiana: <span>&#9989</span> Uso ou divulgação de informações pessoais (é um Princípio!)<br><br>• Equivalente à CCPA: <span>&#9989</span> Direito de Saber Quais Informações Pessoais Estão Sendo Coletadas. Direito de Acesso às Informações Pessoais",
			"• Equivalente à GDPR: <span>&#9989</span> Limitação de armazenamento (é um Princípio!)<br><br>• Equivalente à ADPPA: <span>&#9989</span> Políticas de Retenção de Dados<br><br>• Equivalente à Lei de Privacidade Australiana: <span>&#9989</span> Segurança das informações pessoais (é um Princípio!)<br><br>• Equivalente à CCPA: <span>&#10060</span>",
			"• Equivalente à GDPR: <span>&#9989</span> Tomada de decisão individual automatizada, incluindo perfis<br><br>• Equivalente à ADPPA: <span>&#10060</span><br><br>• Equivalente à Lei de Privacidade Australiana: <span>&#10060</span><br><br>• Equivalente à CCPA: <span>&#10060</span>",
			"• Equivalente à GDPR: <span>&#9989</span> Direito à restrição do processamento<br><br>• Equivalente à ADPPA: <span>&#10060</span><br><br>• Equivalente à Lei de Privacidade Australiana: <span>&#10060</span><br><br>• Equivalente à CCPA: <span>&#9989</span> Direito de Limitar o Uso e a Divulgação de Informações Pessoais Sensíveis"
		];


		const pbDMessages = [
			"Coleta minimizada = Proativo, não Reativo; Preventivo, não Corretivo: É necessário adotar medidas proativas para proteger a privacidade, em vez de reativas; Privacidade por Padrão: A configuração, por padrão, de qualquer sistema, deve ser amigável à privacidade; Privacidade Incorporada ao Design: A privacidade deve ser integrada ao design e à arquitetura de sistemas de informação e práticas de negócios.",
			"Confirmação da existência do tratamento = Visibilidade e Transparência: As organizações devem tornar suas práticas de dados transparentes para os usuários.",
			"Acesso aos dados = Visibilidade e Transparência: As organizações devem tornar suas práticas de dados transparentes para os usuários.",
			"",
			"",
			"Portabilidade dos dados = Respeito à Privacidade do Usuário: As organizações devem respeitar e manter a privacidade dos usuários durante todo o ciclo de vida dos dados.",
			"",
			"Informações das entidades participantes = Visibilidade e Transparência: As organizações devem tornar suas práticas de dados transparentes para os usuários.",
			"Informações da possibilidade de não consentir = Visibilidade e Transparência: As organizações devem tornar suas práticas de dados transparentes para os usuários.",
			"Revogação do consentimento = Proativo, não Reativo; Preventivo, não Corretivo: É necessário adotar medidas proativas para proteger a privacidade, em vez de reativas.",
			"Contestação = Respeito à Privacidade do Usuário: As organizações devem respeitar e manter a privacidade dos usuários durante todo o ciclo de vida dos dados.",
			"Processamento consistente com finalidade = Privacidade por Padrão: A configuração padrão de qualquer sistema deve ser amigável à privacidade.",
			"Retenção consistente com finalidade = Respeito à Privacidade do Usuário: As organizações devem respeitar e manter a privacidade dos usuários durante todo o ciclo de vida dos dados.",
			"Oposição à tomada de decisões automatizadas = Respeito à Privacidade do Usuário: As organizações devem respeitar e manter a privacidade dos usuários durante todo o ciclo de vida dos dados.",
			"Restrição do processamento = Proativo, não Reativo; Preventivo, não Corretivo: É necessário adotar medidas proativas para proteger a privacidade, em vez de reativas."
		];

		const isoMessages = [
			"Coleta minimizada = Minimização de dados: Os dados pessoais coletados devem ser limitados ao que é necessário para os fins especificados, garantindo que informações excessivas ou irrelevantes não sejam reunidas.",
			"Confirmação da existência do tratamento = Abertura, transparência e notificação: Os indivíduos devem ter acesso a informações claras sobre como seus dados estão sendo coletados e processados, promovendo a transparência nas práticas de manejo de dados.",
			"Acesso aos dados = Acesso e participação individual: Os indivíduos devem ter o direito de acessar seus dados pessoais mantidos pelas organizações e poder participar das decisões relacionadas ao seu uso.",
			"Correção dos dados = Acesso e participação individual: Os indivíduos devem ter o direito de acessar seus dados pessoais mantidos pelas organizações e poder participar das decisões relacionadas ao seu uso.",
			"Anonimização = Limitação de uso, retenção e divulgação: As organizações devem limitar o uso de dados pessoais às finalidades para as quais foram originalmente coletados.",
			"Portabilidade dos dados = Limitação de uso, retenção e divulgação: As organizações devem limitar o uso de dados pessoais às finalidades para as quais foram originalmente coletados.",
			"Eliminação dos dados = Acesso e participação individual: Os indivíduos devem ter o direito de acessar seus dados pessoais mantidos pelas organizações e poder participar das decisões relacionadas ao seu uso.",
			"Informações das entidades participantes = Abertura, transparência e notificação: Os indivíduos devem ter acesso a informações claras sobre como seus dados estão sendo coletados e processados, promovendo a transparência nas práticas de manejo de dados.",
			"Informações da possibilidade de não consentir = Consentimento e escolha: As organizações devem obter o consentimento informado dos indivíduos antes de coletar ou processar seus dados pessoais.",
			"Revogação do consentimento = Consentimento e escolha: As organizações devem obter o consentimento informado dos indivíduos antes de coletar ou processar seus dados pessoais.",
			"Contestação = Responsabilização: As organizações são responsáveis por garantir a conformidade com os padrões de privacidade de dados e devem ser capazes de demonstrar responsabilidade em suas atividades de processamento de dados.",
			"Processamento consistente com finalidade = Limitação de coleta: As organizações devem limitar a coleta de dados pessoais ao que é estritamente necessário para o propósito especificado, evitando a coleta de dados desnecessários.",
			"Retenção consistente com finalidade = Limitação de uso, retenção e divulgação: As organizações devem limitar o uso de dados pessoais às finalidades para as quais foram originalmente coletados.",
			"",
			""
		];

		const pbDPrinciples = [1, 2, 3, 6, 8, 9, 10, 11, 12, 13, 14, 15];
		const isoPrinciples = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13];

		const combinedPrinciples = [...new Set([...pbDPrinciples, ...isoPrinciples])];

		const cardsContainer = document.getElementById('cards-container');
		let selectedCards = [];

		function updateButtonState() {
			if (selectedCards.length > 0) {
				assertButton.classList.remove('disabled');
				assertButton.classList.add('enabled');
				assertButton.disabled = false;
			} else {
				assertButton.classList.remove('enabled');
				assertButton.classList.add('disabled');
				assertButton.disabled = true;
			}

			for (let i = 0; i < circles.length; i++) {
				if (selectedCards.includes(i)) {
					circles[i].classList.add('filled');
				} else {
					circles[i].classList.remove('filled');
				}
			}
		}

		function createCards() {
			principles.forEach((principle, index) => {
				const card = document.createElement('div');
				card.className = 'card';
				
				const [title] = principle.split(': ');
				
				const cardTitle = document.createElement('div');
				cardTitle.className = 'card-title';
				cardTitle.textContent = title;

				const cardSubtitle = document.createElement('div');
				cardSubtitle.className = 'card-subtitle';
				cardSubtitle.textContent = subtitles[index];

				const cardText = document.createElement('div');
				cardText.className = 'card-text';
				cardText.innerHTML = infos[index];

				card.appendChild(cardTitle);
				card.appendChild(cardSubtitle);
				card.appendChild(cardText);

				card.addEventListener('click', () => {
					card.classList.toggle('selected');
					if (selectedCards.includes(index)) {
						selectedCards.splice(selectedCards.indexOf(index), 1);
					} else {
						selectedCards.push(index);
					}
					updateButtonState();                
				});

				cardsContainer.appendChild(card);
			});
		}

		function displayResults() {
			const selectedPrinciples = selectedCards.map(index => index + 1);
			const totalSelected = selectedPrinciples.length;

			const selectedPbDCount = selectedPrinciples.filter(p => pbDPrinciples.includes(p)).length;
			const selectedISOCount = selectedPrinciples.filter(p => isoPrinciples.includes(p)).length;

			const pbDPercentage = totalSelected > 0 ? ((selectedPbDCount / totalSelected) * 100).toFixed(2) : 0;
			const isoPercentage = totalSelected > 0 ? ((selectedISOCount / totalSelected) * 100).toFixed(2) : 0;

			const pbDFound = selectedPrinciples.filter(p => pbDPrinciples.includes(p));
			const pbDNotFound = selectedPrinciples.filter(p => !pbDPrinciples.includes(p));
			
			const isoFound = selectedPrinciples.filter(p => isoPrinciples.includes(p));
			const isoNotFound = selectedPrinciples.filter(p => !isoPrinciples.includes(p));
			
			const combinedFound = selectedPrinciples.filter(p => combinedPrinciples.includes(p));
			
			const pbDMessagesFound = pbDFound.map(index => pbDMessages[index - 1]);
			const isoMessagesFound = isoFound.map(index => isoMessages[index - 1]);

			const selectedCombinedCount = selectedPrinciples.filter(p => combinedPrinciples.includes(p)).length;
			const combinedPercentage = totalSelected > 0 ? ((selectedCombinedCount / totalSelected) * 100).toFixed(2) : 0;

			return { 
				pbDPercentage, 
				isoPercentage, 
				combinedPercentage, 
				pbDFound, 
				pbDNotFound, 
				isoFound, 
				isoNotFound,
				combinedFound,
				pbDMessagesFound,
				isoMessagesFound
			};
		}

		document.getElementById('assert-button').addEventListener('click', () => {
			if (selectedCards.length > 0) {
				const resultsDisplay = document.getElementById('results');
				const selectInfo = document.querySelector('.select-info');

				resultsDisplay.style.visibility = 'visible';

				document.getElementById('select-info').style.display = 'none';
				document.getElementById('selected-info').style.display = 'block';

				if (resultsDisplay) {
					resultsDisplay.innerHTML = '';
				} else {
					resultsDisplay = document.createElement('div');
					resultsDisplay.id = 'results';
					document.body.appendChild(resultsDisplay);
				}

				cardsContainer.innerHTML = '';
				selectedCards.sort((a, b) => a - b);

				selectedCards.forEach(index => {
					const card = document.createElement('div');
					card.className = 'card selected';

					const title = principles[index];
					const subtitle = subtitles[index];
					const content = infos[index];
					card.innerHTML = `
						<div class="card-title">${title}</div>
						<div class="card-subtitle">${subtitle}</div>
						<div class="card-text">${content}</div>
					`;

					cardsContainer.appendChild(card);
				});

				const { 
					pbDPercentage, 
					isoPercentage, 
					combinedPercentage, 
					pbDFound, 
					pbDNotFound, 
					isoFound, 
					isoNotFound,
					combinedFound,
					pbDMessagesFound,
					isoMessagesFound
				} = displayResults();

				resultsDisplay.innerHTML = `
                    <h3>Resultado dos <strong>Direitos</strong> selecionados:</h3>
                    <div class="principles-list">Privacy by Design: ${pbDPercentage}%</div>
					<div class="principles-found"><span>&#9989;</span> Direitos identificados (Privacy by Design): <strong>{${pbDFound.join(', ')}}</strong></div>
                    ${pbDMessagesFound.length > 0 ? `<div class="principles-equivalence"><strong>Equivalência com Privacy by Design:</strong> <br><br> <span>&#9989</span> ${pbDMessagesFound.join('<br> <span>&#9989</span> ')}</div>` : ''}
					<br>
                    <div class="principles-list">ISO/IEC 29100: ${isoPercentage}%</div>
					<div class="principles-found"><span>&#9989;</span> Direitos identificados (ISO/IEC 29100): <strong>{${isoFound.join(', ')}}</strong></div>
					${isoMessagesFound.length > 0 ? `<div class="principles-equivalence"><strong>Equivalência com ISO/IEC 29100:</strong> <br><br> <span>&#9989</span> ${isoMessagesFound.join('<br> <span>&#9989</span> ')}</div>` : ''}
					<br>
					<div class="principles-list">Frameworks combinados: ${combinedPercentage}%</div>
					<div class="principles-found"><span>&#9989;</span> Direitos identificados (Combinados): <strong>{${combinedFound.join(', ')}}</strong></div>
                `;

				document.getElementById('selected-info').style.display = 'block';
				document.getElementById('select-info').style.display = 'none';

				document.getElementById('play-again-button').style.display = 'inline-block';
				document.getElementById('assert-button').style.display = 'none';

			}		
		});

		document.getElementById('play-again-button').addEventListener('click', () => {
			cardsContainer.innerHTML = '';
			selectedCards = [];
			
			document.getElementById('assert-button').style.display = 'inline-block';
			document.getElementById('play-again-button').style.display = 'none';

			const resultsDisplay = document.getElementById('results');
			resultsDisplay.innerHTML = '';
			resultsDisplay.style.visibility = 'hidden';

			document.getElementById('select-info').style.display = 'block';
			document.getElementById('selected-info').style.display = 'none';

			const selectInfo = document.querySelector('.select-info');
			selectInfo.style.visibility = 'visible';

			createCards();
			updateButtonState();
		});

		createCards();
		updateButtonState();
	</script>
</body>
</html>